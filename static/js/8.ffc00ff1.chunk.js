(this["webpackJsonplittle-starwars-project"]=this["webpackJsonplittle-starwars-project"]||[]).push([[8],{150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(140),o=a(59),l=a(147),i=a(144),u=a(145),s=a(4),m=a(35),p=a(148),E=a(149),f=a(32),g=a(92),y=function(){var e=Object(n.useContext)(f.a),t=e.state,a=e.dispatch,c=Object(n.useState)(!1),o=Object(m.a)(c,2),l=o[0],i=o[1];Object(n.useEffect)((function(){t.error&&i(!0)}),[t.error]);var u=function(e,t){"clickaway"!==t&&(i(!1),Object(g.a)(a))};return r.a.createElement(p.a,{open:l,onClose:u,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3},r.a.createElement(E.a,{elevation:6,variant:"filled",onClose:u,severity:"error"},t.error&&t.error.message))},h=a(30),d=a(141),b=a(143),v=function(e){var t=e.person;if(!t)return null;var a=[{label:"height",content:"unknown"!==t.height?"".concat(t.height," cm"):t.height},{label:"mass",content:"unknown"!==t.mass?"".concat(t.mass," kg"):t.mass},{label:"year of birth",content:t.birth_year},{label:"gender",content:t.gender},{label:"hair color",content:t.hair_color},{label:"eye color",content:t.eye_color}];return r.a.createElement(d.a,{elevation:4},r.a.createElement(b.a,null,r.a.createElement(i.a,{variant:"h5",gutterBottom:!0,align:"center"},t.name),r.a.createElement(o.a,{container:!0,spacing:2},a.map((function(e){return r.a.createElement(o.a,{item:!0,xs:!0,sm:6,key:e.label},r.a.createElement(i.a,{variant:"overline",display:"block"},e.label),r.a.createElement(i.a,{variant:"body1",gutterBottom:!0,color:"height"===e.label?"primary":"textPrimary"},e.content))})))))},S=function(e){var t=e.starship;if(!t)return null;var a=[{label:"model",content:t.model,grid:12},{label:"manufacturer",content:t.manufacturer,grid:12},{label:"crew",content:t.crew,grid:6},{label:"length",content:"unknown"!==t.length?"".concat(t.length," m"):t.length,grid:6},{label:"cost",content:"unknown"!==t.cost_in_credits?"".concat(t.cost_in_credits," credits"):t.cost_in_credits,grid:6},{label:"hyperdrive rating",content:t.hyperdrive_rating,grid:6}];return r.a.createElement(d.a,{elevation:4},r.a.createElement(b.a,null,r.a.createElement(i.a,{variant:"h5",gutterBottom:!0,align:"center"},t.name),r.a.createElement(o.a,{container:!0,spacing:2},a.map((function(e){return r.a.createElement(o.a,{item:!0,xs:!0,sm:e.grid,key:e.label},r.a.createElement(i.a,{variant:"overline",display:"block"},e.label),r.a.createElement(i.a,{variant:"body1",gutterBottom:!0,color:"crew"===e.label?"primary":"textPrimary"},e.content))})))))},T=function(){var e=Object(n.useContext)(f.a).state,t=e.score,a=e.gameState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{variant:"h2",align:"center"},t.left," - ",t.right),r.a.createElement(i.a,{variant:"h5",align:"center",color:"textSecondary"},null===a||void 0===a?void 0:a.replace(/_/g," ")))},O=function(){var e=Object(n.useContext)(f.a).state,t=e.gameType,a=e.gamePeople,c=e.gameStarships,l=null;return t===h.GameType.PEOPLE&&a?l=a.map((function(e){return r.a.createElement(v,{person:e})})):t===h.GameType.STARSHIPS&&c&&(l=c.map((function(e){return r.a.createElement(S,{starship:e})}))),l?r.a.createElement(o.a,{container:!0,spacing:3,alignItems:"center"},r.a.createElement(o.a,{item:!0,sm:!0},l[0]),r.a.createElement(o.a,{item:!0,sm:3},r.a.createElement(T,null)),r.a.createElement(o.a,{item:!0,sm:!0},l[1])):null},_=a(130),C=function(){var e=Object(_.a)(),t=Object(n.useContext)(f.a).state,a=t.gameType,c=t.gamePeople,o=t.gameStarships,l=a===h.GameType.PEOPLE?c:o,u=r.a.createElement("span",{style:{color:e.palette.secondary.main}},"vs"),s=l&&l[0].name,m=l&&l[1].name;return r.a.createElement(i.a,{variant:"h5",color:"textSecondary",align:"center",style:{marginBottom:48}},s," ",u," ",m)},G=a(41);t.default=function(){var e=Object(n.useContext)(f.a),t=e.state,a=e.dispatch,m=t.gameType,p=t.people,E=t.starships,d=Object(s.f)(),b=Object(n.useCallback)((function(){m===h.GameType.PEOPLE&&p.length?Object(g.d)(a,p):m===h.GameType.STARSHIPS&&E.length&&Object(g.e)(a,E)}),[a,m,p,E]);Object(n.useEffect)((function(){m||v()})),Object(n.useEffect)((function(){b()}),[b]);var v=function(){d.push("choose")};return t.loading?r.a.createElement(G.a,null):r.a.createElement(c.a,{maxWidth:"md"},r.a.createElement(o.a,{container:!0,spacing:0,direction:"column",alignItems:"center",style:{marginTop:128}},r.a.createElement(o.a,{item:!0},r.a.createElement(l.a,null,r.a.createElement(i.a,{variant:"h3",gutterBottom:!0,align:"center"},m===h.GameType.PEOPLE?"Characters":"Starships"),r.a.createElement(C,null),r.a.createElement(O,null),r.a.createElement(l.a,{display:"flex",justifyContent:"center",style:{margin:"32px 0"}},r.a.createElement(u.a,{variant:"contained",color:"primary",size:"large",onClick:b},"play again")),r.a.createElement(u.a,{variant:"outlined",onClick:v},"go back")))),r.a.createElement(y,null))}},92:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return y})),a.d(t,"a",(function(){return h})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return v}));var n=a(35),r=a(96),c=a.n(r),o=a(108),l=a(97),i=a(98),u=a.n(i).a.create({baseURL:"https://swapi.dev/api/",responseType:"json",headers:{"Content-Type":"application/json"}}),s=a(8),m=a(30),p=function(e){return Math.floor(Math.random()*Math.floor(e+1))},E=function(e){if(e<=0)throw new RangeError("max value should be bigger than 0");for(var t=p(e),a=p(e);t===a;)a=p(e);return[t,a]},f=function(e){var t=e.replace(/,/g,""),a=t.indexOf("-"),n=-1!==a?t.substring(a+1,t.length):t;return parseInt(n,10)},g=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,l,i,m,p,E,f,g,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.a.FETCH_START}),e.prev=1,e.next=4,u.get("people/");case 4:return a=e.sent,n=a.data,r=n.count,l=n.results,i=Math.ceil(r/10),m=Array.from({length:i},(function(e,t){return t+1})).splice(1,i),p=m.map((function(e){return u.get("people?page=".concat(e))})),e.next=12,Promise.all(p);case 12:E=e.sent,f=E.map((function(e){return e.data.results})),g=f.flat(),y=[].concat(Object(o.a)(l),Object(o.a)(g)),t({type:s.a.FETCH_PEOPLE,payload:y}),t({type:s.a.FETCH_SUCCESS}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),t({type:s.a.FETCH_FAIL,payload:e.t0&&e.t0.toJSON()});case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,l,i,m,p,E,f,g,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.a.FETCH_START}),e.prev=1,e.next=4,u.get("starships/");case 4:return a=e.sent,n=a.data,r=n.count,l=n.results,i=Math.ceil(r/10),m=Array.from({length:i},(function(e,t){return t+1})).splice(1,i),p=m.map((function(e){return u.get("starships?page=".concat(e))})),e.next=12,Promise.all(p);case 12:E=e.sent,f=E.map((function(e){return e.data.results})),g=f.flat(),y=[].concat(Object(o.a)(l),Object(o.a)(g)),t({type:s.a.FETCH_STARSHIPS,payload:y}),t({type:s.a.FETCH_SUCCESS}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),t({type:s.a.FETCH_FAIL,payload:e.t0&&e.t0.toJSON()});case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){e({type:s.a.CLEAR_ERROR})},d=function(e,t){e({type:s.a.SET_GAME_TYPE,payload:t})},b=function(e,t){e({type:s.a.START_GAME});var a=E(t.length).map((function(e){return t[e]})),r=Object(n.a)(a,2),c=r[0],o=r[1],l=function(e){var t=e.map((function(e){return parseInt(e.height,10)}));return t.some((function(e){return isNaN(e)}))?m.GameState.INCONCLUSIVE:t[0]===t[1]?m.GameState.DRAW:t[0]>t[1]?m.GameState.LEFT_WON:m.GameState.RIGHT_WON}([c,o]);e({type:s.a.PLAY_GAME_PEOPLE,payload:[c,o]}),e({type:s.a.UPDATE_GAME_STATE,payload:l}),[m.GameState.LEFT_WON,m.GameState.RIGHT_WON].includes(l)&&e({type:s.a.INCREMENT_SCORE,payload:l===m.GameState.LEFT_WON?m.Score.LEFT:m.Score.RIGHT})},v=function(e,t){e({type:s.a.START_GAME});var a=E(t.length).map((function(e){return t[e]})),r=Object(n.a)(a,2),c=r[0],o=r[1],l=function(e){var t=e.map((function(e){return f(e.crew)}));return t.some((function(e){return isNaN(e)}))?m.GameState.INCONCLUSIVE:t[0]===t[1]?m.GameState.DRAW:t[0]>t[1]?m.GameState.LEFT_WON:m.GameState.RIGHT_WON}([c,o]);e({type:s.a.PLAY_GAME_STARSHIPS,payload:[c,o]}),e({type:s.a.UPDATE_GAME_STATE,payload:l}),[m.GameState.LEFT_WON,m.GameState.RIGHT_WON].includes(l)&&e({type:s.a.INCREMENT_SCORE,payload:l===m.GameState.LEFT_WON?m.Score.LEFT:m.Score.RIGHT})}}}]);
//# sourceMappingURL=8.ffc00ff1.chunk.js.map